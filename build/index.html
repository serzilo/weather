<!doctype html>
<html lang="">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <title>Weather App</title>
        <meta name="description" content="">
        <meta name="viewport" content="initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=yes">

        <link rel="apple-touch-icon" sizes="57x57" href="images/apple-touch-icon-57x57.png">
        <link rel="apple-touch-icon" sizes="114x114" href="images/apple-touch-icon-114x114.png">
        <link rel="apple-touch-icon" sizes="72x72" href="images/apple-touch-icon-72x72.png">
        <link rel="apple-touch-icon" sizes="144x144" href="images/apple-touch-icon-144x144.png">
        <link rel="apple-touch-icon" sizes="60x60" href="images/apple-touch-icon-60x60.png">
        <link rel="apple-touch-icon" sizes="120x120" href="images/apple-touch-icon-120x120.png">
        <link rel="apple-touch-icon" sizes="76x76" href="images/apple-touch-icon-76x76.png">
        <link rel="apple-touch-icon" sizes="152x152" href="images/apple-touch-icon-152x152.png">

        <link rel="stylesheet" href="css/main.css">
    </head>
    <body>
        <div id="app"></div>
        
        <script type="text/template" id="main_template">
        	<div class="header" id="header">
        		<div class="header__layout clearfix">
        			<a href="#" class="btn header__btn left js-index" id="header_menu">
        				<i class="icon icon_menu"></i>
        			</a>
        
        			<a href="#/search/" class="btn header__btn right js-search" id="header_search">
        				<i class="icon icon_search"></i>
        			</a>
        		</div>
        	</div>
        
        	<div class="content" id="content"></div>
        </script>
        <script type="text/template" id="list_template">
        	<% if (typeof(showSearchInput) !== "undefined") { %>
        		<div class="block">
        			<input type="search" value="" placeholder="Enter city" autocapitalize="off" autocorrect="off" autocomplete="off" class="input-text" id="search_input" />
        		</div>
        	<% } %>
        	<ul class="list" id="cities_list_ul"></ul>
        </script>
        <script type="text/template" id="list_link_template">
        	<% if (name) { %>
        		<li class="list__item">
        			<a href="#/city/<%= link %>" class="btn btn_link"><%= name %></a>
        		</li>
        	<% } %>
        </script>
        <script type="text/template" id="city_template">
        	<div class="block">
        		<h1><%= city %></h1>
        		<a href="#" class="js-bookmark_toggle">+</a>
        		<a href="#" class="js-update_forecast">Update Forecast</a>
        
        		<div id="city_forecast"></div>
        	</div>
        </script>
        <script type="text/template" id="forecast_template">
        	<div class="block">
        		Forecast
        
        		<div class="forecast">
        			<table>
        				<tr>
        					<%
        					    _.each(list,function(item, key){
        
        					    var date = new Date(item.dt_txt),
        					    	day = date.getDate(),
        					    	months = ["January","February","March","April","May","June","July","August","September","October","November","December"],
        					    	month = months[date.getMonth()];
        
        					    console.log(day);
        					%>
        
        					<td>
        						<%= day %> <%= month %>  <br />
        						Temp: <%= item.main.temp %>&deg;C <br />
        						Pressure: <%= item.main.pressure %> <br />
        						Humidity: <%= item.main.humidity %>% <br />
        						Cloudiness: <%= item.clouds.all %>% <br />
        						Wind speed: <%= item.wind.speed %> meter/sec <br />
        
        						<%
        						    _.each(item.weather,function(weather, key){
        						%>
        
        							<%= weather.description %>
        							<img src="images/weather/<%= weather.icon %>.png" alt="<%= weather.description %>" />
        						
        						<%
        						    });
        						%>
        					</td>
        
        					<%
        					    });
        					%>
        				</tr>
        			</table>
        		</div>
        	</div>
        </script>
        
        <script data-main="js/boot" src="js/require.js"></script>
    </body>
</html>