define(["collections/cities","common/index"],function(t,e){var i=Backbone.View.extend({template:_.template($("#list_template").html()),listLinkTemplate:_.template($("#list_link_template").html()),initialize:function(){this.listenTo(t,"reset",this.fillList)},render:function(){e.toggleHeaderButtons("index"),$("#content").html(this.$el.html(this.template())),this.$list=this.$("#cities_list_ul"),t.fetch({reset:!0})},fillList:function(){var e=this,i=t.map(function(t){return e.listLinkTemplate(t.toJSON())}).join("");this.$list.html(i)}});return i});