define(["collections/cities","common/index","common/forecast"],function(t,e,o){var c=Backbone.View.extend({template:_.template($("#city_template").html()),forecastTemplate:_.template($("#forecast_template").html()),events:{"click .js-bookmark_toggle":"bookmarkToggle","click .js-update_forecast":"forecastUpdate"},initialize:function(t){this.city=t},render:function(){e.toggleHeaderButtons(),e.setTitle("Forecast: "+this.city),$("#content").html(this.$el.html(this.template({city:this.city}))),this.forecastRequest()},forecastRequest:function(){var t=this;o.getForecast(this.city,function(e){console.dir(e),t.$("#city_forecast").html(t.forecastTemplate(e))})},forecastUpdate:function(t){t.preventDefault(),t.stopPropagation(),this.forecastRequest()},bookmarkToggle:function(t){t.preventDefault(),t.stopPropagation(),console.log(1)}});return c});